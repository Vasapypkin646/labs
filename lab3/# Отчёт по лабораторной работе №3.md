# Отчёт по лабораторной работе №3  
**Тема:** Объектно-ориентированное программирование  

---

## Сведения о студенте  
**Дата:** [YYYY-MM-DD]  
**Семестр:** [2 курс, 1 семестр]  
**Группа:** [Пин-б-о-24-1]  
**Дисциплина:** [Технологии программирования]  
**Студент:** [Лебский Артём Александрович]  

---

## Цель работы  
Познакомиться с особенностями объектно-ориентированного программирования. Научиться создавать собственные классы с использованием R6. Решить задания в соответствующем стиле программирования. Составить отчет.

---

## Ход работы  

### 1. Теоретическая часть  
Объектно-ориентированное программирование (ООП) — методология программирования, основанная на представлении программы в виде совокупности объектов, каждый из которых является экземпляром определенного класса.  

**Основные принципы ООП по Алану Кею:**  
- Все является объектом  
- Вычисления осуществляются путем взаимодействия между объектами  
- Каждый объект имеет независимую память  
- Каждый объект является представителем класса  

**Механизмы ООП:**  
- Абстракция  
- Инкапсуляция  
- Наследование  
- Полиморфизм  
- Композиция  

**Основные понятия:**  
- Объект  
- Класс  
- Атрибут класса  
- Методы класса  
- Дженерик (обобщенная функция)  

---

### 2. Практическая часть  

#### Задание 1: Создание дженерика для вычисления площади фигур  
Был создан дженерик `calculate_area`, который принимает вектор с параметрами фигуры и вычисляет её площадь. Для разных фигур были созданы классы:  
- `Circle` (круг)  
- `Kvadrat` (квадрат)  

**Пример кода:**  
```r
library(R6)

Figyra <- R6Class("Figyra",
    public = list(
        parameters = NULL,
        initialize = function(parameters) {
            self$parameters <- parameters
        },
        calculate_area = function() {
            warning("Невозможно обработать данные: неизвестный тип фигуры")
            return(NA)
        }
    )
)

Circle <- R6Class(
    "Circle",
    inherit = Figyra,
    public = list(
        initialize = function(radius) {
            if (radius <= 0) stop("Радиус должен быть положительным")
            super$initialize(c(radius = radius))
        },
        calculate_area = function() {
            radius <- self$parameters["radius"]
            area <- pi * radius^2
            cat("Площадь круга с радиусом", radius, "=", round(area, 2), "\n")
            return(area)
        }
    )
)

Kvadrat <- R6Class(
    "Kvadrat",
    inherit = Figyra,
    public = list(
        initialize = function(storona) {
            if (storona <= 0) stop("Сторона должна быть положительной")
            super$initialize(c(storona = storona))
        },
        calculate_area = function() {
            storona <- self$parameters["storona"]
            area <- storona^2
            cat("Площадь квадрата с стороной", storona, "=", round(area, 2), "\n")
            return(area)
        }
    )
)
```

**Пример ввода:** 
```r
circle <- Circle$new(5)
kvadrat <- Kvadrat$new(5)
calculate_area(circle)
calculate_area(kvadrat)
```

**Вывод:**
```
Площадь круга с радиусом 5 = 78.54 
Площадь квадрата с стороной 5 = 25 
```

#### Задание 2: Создание класса «Микроволновая печь»
Был создан класс `Pe4`, который содержит:
Поля: `strong` (мощность), dver (состояние дверцы)
Методы: `open()`, `close()`, `status()`, `gotovka_pishi()`

```r
library(R6)

Pe4 <- R6Class("pe4",
    public = list(
        strong = NULL,
        dver = NULL,

        initialize = function(strong, dver) {
            self$strong <- strong
            self$dver <- dver
        },

        open = function() {
            if (self$dver == "open") {
                cat("Дверь и так открыта\n")
            } else if (self$dver == "close") {
                cat("Дверь открыта\n")
                self$dver <- "open"
            }
        },

        close = function() {
            if (self$dver == "open") {
                cat("Дверь закрыта\n")
                self$dver <- "close"
            } else if (self$dver == "close") {
                cat("Дверь и так закрыта\n")
            }
        },

        status = function() {
            cat("Печь: мощность =", self$strong, ", дверь =", self$dver, "\n")
        },

        gotovka_pishi = function() {
            if (self$dver == "open") {
                cat("Невозможно начать готовку: дверь открыта\n")
                return()
            }
            cat("Приготовление пищи займет", 2100 / self$strong, "секунд\n")
            Sys.sleep(2100 / self$strong)
            cat("Пища готова!\n")
        }
    )
)
```
**Пример ввода:**
```r
pe4ka <- Pe4$new(700, "open")
pe4ka2 <- Pe4$new(300, "close")

pe4ka$status()
pe4ka$close()
pe4ka$gotovka_pishi()

pe4ka2$close()
pe4ka2$gotovka_pishi()
```
**Вывод:**
```
Печь: мощность = 700, дверь = open
Дверь закрыта
Приготовление пищи займет 3 секунды
Пища готова!
```

#### Задание 3: Создание класса «Копилка»

Был создан класс `Kopilka`, который содержит:
Поле: `symma` (текущая сумма)
Методы: `balance()` (проверка баланса), `dep()` (пополнение)

```r
library(R6)

Kopilka <- R6Class("Kopilka",
    public = list(
        symma = NULL,

        initialize = function(symma = 0) {
            self$symma <- symma
        },

        balance = function() {
            cat("В копилке:", self$symma, "руб.\n")
        },

        dep = function(popolnenie) {
            self$symma <- self$symma + popolnenie
            cat("Пополнение на", popolnenie, "руб.\n")
        }
    )
)
```

**Пример ввода:**
```r
kopilo4ka <- Kopilka$new(0)
kopilo4ka$balance()
kopilo4ka$dep(100)
kopilo4ka$balance()
```
**Вывод:**
```
В копилке: 0 руб.
Пополнение на 100 руб.
В копилке: 100 руб. 
```

---

## **Результаты**  

### **Структура репозитория:**  
```
labs/lab3/
├── # Отчёт по лабораторной работе №3.md
├── 3lr_1.r
├── lr3_2.R
├── 3lr_3.R
└── README.md
```

### **Ссылка на репозиторий:**  
[GitHub Repository Link](https://github.com/Vasapypkin646/r-OOP-lab3)  

---

## *Выводы*
На основе выполненной лабораторной работы по объектно-ориентированному программированию можно сделать следующие выводы:
Объектно-ориентированное программирование представляет собой мощную методологию, которая коренным образом меняет подход к проектированию и реализации программного обеспечения. В отличие от ранее изученных процедурного и структурного программирования, ООП фокусируется на организации кода вокруг объектов - сущностей, которые объединяют данные и поведение в единые компоненты.
Практическая реализация заданий на языке R с использованием пакета R6 позволила глубоко понять основные принципы ООП, сформулированные Аланом Кеем. Создание дженерика для вычисления площади различных фигур продемонстрировало принцип полиморфизма - одну и ту же операцию (вычисление площади) можно выполнять для разных типов объектов (круга, квадрата), при этом каждый класс предоставляет собственную реализацию метода calculate_area(). Это обеспечивает гибкость и расширяемость кода - добавление новых типов фигур не требует изменения существующей логики.
Разработка класса "Микроволновая печь" наглядно показала принципы инкапсуляции и абстракции. Внутреннее состояние объекта (мощность, состояние дверцы) скрыто от внешнего мира, а взаимодействие происходит через четко определенный интерфейс методов open(), close(), gotovka_pishi(). Это обеспечивает контроль над корректностью операций - например, предотвращает приготовление пищи при открытой дверце.
Создание класса "Копилка" продемонстрировало принцип композиции и управления состоянием объекта. Класс инкапсулирует логику работы с денежными средствами, предоставляя простой и безопасный интерфейс для пополнения и проверки баланса.
Особенностью реализации ООП в R через пакет R6 является явное разделение на приватные и публичные элементы, что способствует созданию более надежного и сопровождаемого кода. Использование механизма наследования (через ключевое слово inherit) позволяет создавать иерархии классов, избегая дублирования кода.
Проведенная работа показала, что объектно-ориентированный подход особенно ценен при разработке сложных систем, где важно четкое разделение ответственности между компонентами, возможность повторного использования кода и обеспечение модульности. Приобретенные навыки создания классов, работы с дженериками и реализации основных принципов ООП составляют фундамент для дальнейшего изучения современных технологий программирования и подготовки к работе с крупными программными проектами.

